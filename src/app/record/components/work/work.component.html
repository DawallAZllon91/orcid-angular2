<!-- WORK BODY -->
{{ work | json }}
<!-- GENERAL DATA DISPLAY BY DEFAULT -->
<app-panel-data [borderBottom]="true">
  <div>
    <div class="general-data" *ngIf="work.journalTitle">
      {{ work.journalTitle.value }}
    </div>
    <div class="general-data">
      <ng-container *ngIf="work.publicationDate?.year"
        >{{ work.publicationDate | monthDayYearDateToString }}
        |
      </ng-container>
      {{ work.workType.value }}
    </div>
    <app-display-external-ids
      [externalIdentifiers]="work.workExternalIdentifiers"
    ></app-display-external-ids>
  </div>

  <div align-end>
    <a
      (click)="toggleDetails.next(work)"
      *ngIf="!panelDetailsState.state"
      i18n="@@share.showMoreDetail"
      >Show more detail</a
    >
    <a
      (click)="toggleDetails.next(work)"
      *ngIf="panelDetailsState.state"
      i18n="@@share.showLessDetail"
      >Show less detail</a
    >
  </div>
</app-panel-data>

<!-- DATA DISPLAY WHEN "MORE DETAILS" IS CLICKED -->

<app-panel-data [borderBottom]="true" *ngIf="panelDetailsState.state">
  <!-- URL -->
  <app-display-attribute *ngIf="work.url.value">
    <h3 class="orc-font-body-small" i18n="@@record.url">URL</h3>
    <div>{{ work.url.value }}</div>
  </app-display-attribute>

  <!-- ORGANIZATION DISAMBIGUATED IDS-->
  <!-- <ng-container class="margin-top-1" *ngIf="orgDisambiguated">
    <app-display-attribute>
      <h3 class="orc-font-body-small" i18n="@@record.organizationIdentifiers">
        Organization identifiers
      </h3>
      <div>
        <div>
          {{ orgDisambiguated?.sourceType
          }}<ng-container
            *ngIf="orgDisambiguated.sourceType && orgDisambiguated.sourceId"
            >:</ng-container
          >
          <ng-container> {{ orgDisambiguated?.sourceId }}</ng-container>
        </div>
        <div>
          {{ orgDisambiguated?.value
          }}<ng-container *ngIf="orgDisambiguated && orgDisambiguated.value"
            >:</ng-container
          >
          {{ orgDisambiguated | cityRegionCountry }}
        </div>

        <a
          target="orcid-app"
          *ngIf="orgDisambiguated?.url"
          [href]="orgDisambiguated?.url"
        >
          {{ orgDisambiguated?.url }}</a
        >
      </div>
    </app-display-attribute>

    <app-display-attribute>
      <h3 class="orc-font-body-small">
        <ng-container
          i18n="@@workspace_works.external_ids"
          i18n="@@record.OtherOrganization"
          >Other organization identifiers provided by</ng-container
        >
        {{ orgDisambiguated.sourceType | titlecase }}
      </h3>
      <div
        *ngFor="let org of orgDisambiguated.orgDisambiguatedExternalIdentifiers"
        class="padding-level-3"
      >
        {{ org.identifierType }}:
        <ng-container *ngIf="org.preferred && !isUrl(org.preferred)">{{
          org.preferred
        }}</ng-container>
        <ng-container *ngIf="org.preferred && isUrl(org.preferred)">
          <a target="orcid-app" href="{{ org.preferred }} ">
            {{ org.preferred }}</a
          >
        </ng-container>
        <ng-container>(preferred)</ng-container>

        <ng-container *ngFor="let id of org.all">
          <ng-container *ngIf="id != org.preferred && !isUrl(id)">{{
            id
          }}</ng-container>
          <ng-container *ngIf="id != org.preferred && isUrl(id)">
            <a target="orcid-app" href="{{ id }}"> {{ id }}</a>
          </ng-container>
        </ng-container>
      </div>
    </app-display-attribute>
  </ng-container> -->

  <!-- ADDED DATE-->
  <app-display-attribute>
    <h3 class="orc-font-body-small" i18n="@@record.added">Added</h3>
    <div>
      {{ work.createdDate | monthDayYearDateToString }}
    </div>
  </app-display-attribute>

  <!-- LAST MODIFIED  DATE-->
  <app-display-attribute>
    <h3 class="orc-font-body-small" i18n="@@record.lastModified">
      Last modified
    </h3>
    <div>{{ work.lastModified | monthDayYearDateToString }}</div>
  </app-display-attribute>
</app-panel-data>
