<mat-progress-bar
  *ngIf="loadingUserRecord"
  mode="indeterminate"
  color="accent"
></mat-progress-bar>
<div class="record-header-wrapper" [ngClass]="{ mobile: !platform.columns12 }">
  <div class="row container record-header">
    <section [id]="'names'" role="region" [attr.aria-label]="regionNames">
      <div
        class="names-wrapper"
        *ngIf="
          !userInfo?.RECORD_WITH_ISSUES &&
          (userRecord?.names || userRecord?.otherNames)
        "
      >
        <div class="row names">
          <h1
            [ngClass]="{
              'orc-font-heading-small': !platform.columns12,
              'orc-font-heading': platform.columns12
            }"
          >
            <ng-container *ngIf="creditName">{{ creditName }}</ng-container>
            <ng-container *ngIf="!!!creditName && (givenNames || familyName)">
              <ng-container *ngIf="givenNames">{{
                givenNames + ' '
              }}</ng-container>
              {{ familyName }}
            </ng-container>
          </h1>
        </div>
        <div
          class="row other-names"
          [ngClass]="{ mobile: !platform.columns12 }"
        >
          <p class="orc-font-body" *ngIf="otherNames">{{ otherNames }}</p>
        </div>
      </div>
      <div class="issue" *ngIf="userInfo?.RECORD_WITH_ISSUES">
        <h1
          [ngClass]="{
            'orc-font-heading-small': !platform.columns12,
            'orc-font-heading': platform.columns12
          }"
        >
          <ng-container
            *ngIf="
              userInfo.IS_DEACTIVATED === 'true' && !userInfo.PRIMARY_RECORD
            "
            i18n="@@summary.recordIsDeactivated"
            >This record has been deactivated
          </ng-container>
          <ng-container
            *ngIf="
              userInfo.IS_LOCKED === 'true' &&
              userInfo.IS_DEACTIVATED === 'false' &&
              !userInfo.PRIMARY_RECORD
            "
            i18n="@@summary.recordIsLocked"
            >This record is locked
          </ng-container>
          <ng-container
            *ngIf="userInfo.PRIMARY_RECORD"
            i18n="@@summary.recordIsDeprecated"
            >This record has been deprecated</ng-container
          >
        </h1>
      </div>
      <div
        class="no-public-information"
        *ngIf="
          !loadingUserRecord &&
          !recordWithIssues &&
          affiliations === 0 &&
          !(creditName || givenNames || familyName || otherNames)
        "
      >
        <h1
          [ngClass]="{
            'orc-font-heading-small': !platform.columns12,
            'orc-font-heading': platform.columns12
          }"
        >
          <ng-container i18n="@@record.noPublicInformation"
            >No public information available
          </ng-container>
        </h1>
      </div>
    </section>
    <mat-divider class="divider"></mat-divider>
    <section [id]="'orcid-id'" role="region" [attr.aria-label]="regionOrcidId">
      <div class="row id-wrapper">
        <div
          class="col"
          [ngClass]="{
            'orc-font-body-small': !platform.columns12,
            'orc-font-body': platform.columns12
          }"
          dir="ltr"
        >
          <div>
            <img
              class="orcid-logo"
              [ngClass]="{ mobile: !platform.columns12 }"
              src="assets/vectors/orcid.logo.icon.svg"
              alt="orcid logo"
            />
          </div>
          <h2
            [ngClass]="{
              'orc-font-body': !platform.columns12,
              'orc-font-body-large': platform.columns12
            }"
          >
            {{ orcidId }}
          </h2>
          <div
            class="buttons-wrapper"
            [ngClass]="{
              row: !platform.columns12,
              mobile: !platform.columns12
            }"
          >
            <button
              mat-icon-button
              class="orc-font-small-print"
              [matTooltip]="tooltipCopy"
              [attr.aria-label]="ariaLabelCopyOrcidId"
              (click)="clipboard()"
            >
              <mat-icon class="material-icons" class="icon"
                >content_copy</mat-icon
              >
            </button>
            <button
              mat-icon-button
              class="orc-font-small-print"
              [matTooltip]="tooltipPrintableVersion"
              [attr.aria-label]="ariaLabelViewPrintable"
              (click)="printRecord()"
            >
              <mat-icon class="material-icons" class="icon">print</mat-icon>
            </button>
          </div>
        </div>
      </div>
    </section>
  </div>
</div>
